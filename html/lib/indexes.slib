reduce {{
  z = torus_reduce(z)
  z = grid_reduce(z)
}}

t_inner {{
  z = zn[#0] * z + zn[#1]
}}

t_outer {{
  z = zn[#2] * z + zn[#3]
}}

t_main {{
  z = z
  z = exp(z)
  z = cos(z)
  z = sin(z)
  z = tan(z)
  z = cosh(z)
}}
