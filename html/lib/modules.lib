--vert
flags default true
flags family vert
component basic

--disp
flags default true
flags family frag_disp
component disp
modules post post

--main
flags default true
flags family frag_main
component main
modules t t_wrap
modules color color_id
modules seed seed_border

--post
flags default true
flags family post
component post

--color_id
flags default true
flags family color
component color_id

--seed_border
flags default true
flags family seed
component seed_border
par seed_w 0.4
modules t t_id
sub reduce z = torus_reduce(z)

--seed_multi
flags default true
flags family seed
component seed_multi
modules seed0 seed_border
modules seed1 seed_border
sub reduce z = torus_reduce(z)

--t_wrap
flags default true
flags family t
component t_wrap
zn 1.0 + 0.0i, 0.0 + 0.0i, 1.0 + 0.0i, 0.0 + 0.0i,
sub t_inner z = zn[#0] * z + zn[#1]
sub t_main  z = exp(z)
sub t_outer z = zn[#2] * z + zn[#3]

--t_id
flags family t
component t_id