--color_id
family color
flags {basic}
component color_id
var color
dim vec4

--color_bgr < color_id
component color_bgr

--color_gbr < color_id
component color_gbr

--rotate_hsv0 < color_id
component rotate_hsv
par {rot: 0.06, len_sc:0.0, len_sc_amt:0.0, th_spd: 0.0}

--rotate_hsv1 < color_id
component rotate_hsv
par {rot: 0.17, len_sc:1.0, len_sc_amt:0.5, th_spd: 0.0}


--disp_id
family disp
flags {basic, root}
component disp
modules {post: post_id}


--default_main
family main
flags {root}
component main
modules {main_body: default_main_body}

--analysis_main < default_main
flags {}
modules {main_body: analysis_main_body}

--default_main_body
family main_body
component main_stc
modules {seed: seed_border, t:t_wrap_zo, color: color_gbr, reduce: torus_reduce}
var color
dim vec4

--analysis_main_body < default_main_body
modules {seed: seed_analysis, t:t_wrap_zo, color: color_id, reduce: torus_reduce}


--post_id
family post
flags {basic}
component post_id
var frame
dim vec4

--post_hlim1 < post_id
flags {basic, post_hlim}
component post_hlim
par {gamma:2.0, hue:0.0, spread:0.5, lgv:0.5}

--post_hlim2 < post_hlim1
par {gamma:2.0, hue:0.33, spread:0.5, lgv:0.5}

--post_hlim3 < post_hlim1
par {gamma:2.0, hue:0.66, spread:0.5, lgv:0.5}

--post_hlim1' < post_hlim1
scripts [hlim_h1, hlim_s1, hlim_l1]


--torus_reduce
family reduce
component torus_reduce
var z
dim vec2


--seed_nothing
family seed
component seed_nothing
var seed
dim vec4

--seed_border < seed_nothing
flags {basic}
component seed_border
par {w: 0.2, alpha: 1.0}
modules {t: t_wrap}

--seed_analysis < seed_border
flags {analysis}
par {w: 0.05}
component seed_analysis


--seed_border_img1 < seed_border
flags {basic, img}
component seed_simple_img
images [/textures/simplegeom/tile_grid1.png]

--seed_border_img2 < seed_border_img1
images [/textures/simplegeom/tile_grid6.png]

--seed_border_img3 < seed_border_img1
images [/textures/simplegeom/tile_psych1.png]


--switch
family switch
component switch
sub {var: v0, dim: float}
par {intrp: 0.0}
modules {m0: id, m1: id}

--smooth_switch < switch
component smooth_switch


--t_id
family t
component t_id
var z
dim vec2

--t_wrap < t_id
zn [1.0 + 0.0i, 0.0 + 0.0i, 1.0 + 0.0i, 0.0 + 0.0i]
component t_wrap
sub {t_inner: z}

--t_wrap_zo < t_wrap
flags {test}
zn [1.1 + 0.0i, 0.0 + 0.0i, 1.0 + 0.0i, 0.0 + 0.0i]
scripts [linx_1]

--t_wrap_zo' < t_wrap_zo
sub {t_inner: tanh(z)}
scripts []


--default_vert
family vert
flags {root}
component default_vert




--main1 < default_main
modules {main_body: main1_body}

--main1_body < default_main_body
modules {t: t_main1, seed: seed_borderM, color: rotate_hsv1, reduce: torus_reduce}

--t_main1 < t_id
component t_wrap
zn [1.0 + 0.0i, 0.0 + 0.0i, 1.1 + 0.0i, 0.0 + 0.0i]
sub {t_inner: sinh(z)}
scripts [randomizeT1, circle_0, rose1_0, rose3_2]

--seed_borderM < seed_border
flags {}
par {w: 0.5, alpha: 0.5}
modules {t: ts_wrap_linx3', reduce: torus_reduce}
scripts [ssc_w1, ssc_a1]

--seed_borderM1 < seed_borderM
component seed_simple_img
images [/textures/simplegeom/tile_grid1.png]

--ts_wrap_linx3' < t_id
zn [1.1 + 0.0i, 0.0 + 0.0i, 1.0 + 0.0i, 0.0 + 0.0i]
component t_wrap
sub {t_inner: z}
scripts [rose3_2]

--disp_main1 < disp_id
flags {}
modules {post: post_hlim1'}

--post_hlim1' < post_hlim1
scripts [hlim_h1, hlim_s1, hlim_l1]


