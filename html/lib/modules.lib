--color_id
family color
flags {basic}
component color_id
var color
dim vec4

--color_bgr < color_id
component color_bgr

--color_gbr < color_id
component color_gbr

--rotate_hsv0 < color_id
component rotate_hsv
par {rot: 0.06, len_sc:0.0, len_sc_amt:0.0, th_spd: 0.0}

--rotate_hsv1 < color_id
component rotate_hsv
par {rot: 0.17, len_sc:1.0, len_sc_amt:0.5, th_spd: 0.0}


--disp_id
family disp
flags {basic, root}
component disp
modules {post: post_id}


--default_main
family main
flags {root}
component main
modules {main_body: default_main_body}

--analysis_main < default_main
flags {}
modules {main_body: analysis_main_body}

--default_main_body
family main_body
component main_stc
modules {seed: seed_border, t:t_wrap_zo, color: color_gbr, reduce: torus_reduce}
var color
dim vec4

--analysis_main_body < default_main_body
modules {seed: seed_analysis, t:t_wrap_zo, color: color_id, reduce: torus_reduce}


--post_id
family post
flags {basic}
component post_id
var frame
dim vec4

--post_hlim1 < post_id
flags {basic, post_hlim}
component post_hlim
par {gamma:2.0, hue:0.0, spread:0.5, lgv:0.5}

--post_hlim2 < post_hlim1
par {gamma:2.0, hue:0.33, spread:0.5, lgv:0.5}

--post_hlim3 < post_hlim1
par {gamma:2.0, hue:0.66, spread:0.5, lgv:0.5}

--post_hlim1' < post_hlim1
scripts [hlim_h1, hlim_s1, hlim_l1]


--torus_reduce
family reduce
component torus_reduce
var z
dim vec2


--seed_nothing
family seed
component seed_nothing
var seed
dim vec4

--seed_border < seed_nothing
flags {t_test}
component seed_border
par {w: 0.2, alpha: 1.0}
modules {t: t_wrap}

--seed_circle < seed_nothing
flags {t_test, img}
component seed_circle
par {w: 0.2, r: 0.5, sc: 1.0, alpha: 0.8, spd: 6.0}
modules {t: t_wrap}
images [/textures/simplegeom/tile_rainbow2.png]

--seed_ball < seed_nothing
flags {t_test, img}
component seed_circle
par {w: 0.5, r: 0.0, sc: 1.0, alpha: 0.7, spd:1.0}
modules {t: t_wrap}
images [/textures/misc/tile_oct1.png]

--seed_border_img1 < seed_border
flags {t_test, img}
component seed_simple_img
images [/textures/simplegeom/tile_grid1.png]

--seed_border_img2 < seed_border_img1
images [/textures/simplegeom/tile_grid6.png]

--seed_border_img3 < seed_border_img1
images [/textures/simplegeom/tile_psych1.png]




--seed_analysis < seed_border
flags {analysis}
par {w: 0.05}
component seed_analysis


--switch
family switch
component switch
sub {var: v0, dim: float}
par {intrp: 0.0}
modules {m0: id, m1: id}

--smooth_switch < switch
component smooth_switch


--t_id
family t
component t_id
var z
dim vec2

--t_wrap_sub < t_id
flags {wrap, sub}
zn [1.0 + 0.0i, 0.0 + 0.0i, 1.0 + 0.0i, 0.0 + 0.0i]
component t_wrap_sub
sub {t_inner: z}

--t_wrap_zo_sub < t_wrap_sub
zn [1.1 + 0.0i, 0.0 + 0.0i, 1.0 + 0.0i, 0.0 + 0.0i]

--t_wrap < t_id
flags {wrap}
zn [1.0 + 0.0i, 0.0 + 0.0i, 1.0 + 0.0i, 0.0 + 0.0i]
component t_wrap
modules {t_inner: t_z}

--t_wrap_zo < t_wrap
zn [1.1 + 0.0i, 0.0 + 0.0i, 1.0 + 0.0i, 0.0 + 0.0i]

--t_wrap_test < t_wrap_zo
modules {t_inner: t_cos}
zn [1.7 + 0.0i, 0.0 + 0.0i, 1.0 + 0.0i, 0.0 + 0.0i]

--t_z
family t_inner
flags {all}
component t_sub
var z
dim vec2
sub {t_expr: z}

--t_inv < t_z
flags {all, inv}
sub {t_expr: 1.0 / z}

--t_cos < t_z
flags {all}
sub {t_expr: cos(z)}

--t_sin < t_z
flags {all}
sub {t_expr: sin(z)}

--t_cosh < t_z
flags {all}
sub {t_expr: cosh(z)}

--t_sinh < t_z
flags {all}
sub {t_expr: sinh(z)}

--t_tan < t_z
flags {all}
sub {t_expr: tan(z)}

--t_tanh < t_z
flags {all}
sub {t_expr: tanh(z)}

--t_exp < t_z
flags {all}
sub {t_expr: exp(z)}

--t_exp < t_z
flags {all}
sub {t_expr: exp(z)}

--t_zti < t_z
flags {all}
sub {t_expr: z / tan (z * i)}


--default_vert
family vert
flags {root}
component default_vert








--main1 < default_main
modules {main_body: main1_body}

--main1_body < default_main_body
modules {t: t_main1, seed: seed_borderM, color: rotate_hsv1, reduce: torus_reduce}

--t_main1 < t_id
component t_wrap
zn [1.0 + 0.0i, 0.0 + 0.0i, 1.1 + 0.0i, 0.0 + 0.0i]
modules {t_inner: t_sinh}
scripts [randomizeT1, circle_0, rose1_0, rose3_2]

--seed_borderM < seed_border
flags {}
par {w: 0.5, alpha: 0.5}
modules {t: ts_wrap_linx3', reduce: torus_reduce}
scripts [ssc_w1, ssc_a1]

--seed_borderM1 < seed_borderM
component seed_simple_img
images [/textures/simplegeom/tile_grid1.png]

--ts_wrap_linx3' < t_id
zn [1.1 + 0.0i, 0.0 + 0.0i, 1.0 + 0.0i, 0.0 + 0.0i]
component t_wrap
modules {t_inner: t_z}
scripts [rose3_2]

--disp_main1 < disp_id
flags {}
modules {post: post_hlim1'}

--post_hlim1' < post_hlim1
scripts [hlim_h1, hlim_s1, hlim_l1]
--main1 < default_main
modules {main_body: main1_body}

--main1_body < default_main_body
modules {t: t_main1, seed: seed_borderM, color: rotate_hsv1, reduce: torus_reduce}

--t_main1 < t_id
component t_wrap
zn [1.0 + 0.0i, 0.0 + 0.0i, 1.1 + 0.0i, 0.0 + 0.0i]
modules {t_inner: t_sinh}
scripts [randomizeT1, circle_0, rose1_0, rose3_2]

--seed_borderM < seed_border
flags {}
par {w: 0.5, alpha: 0.5}
modules {t: ts_wrap_linx3', reduce: torus_reduce}
scripts [ssc_w1, ssc_a1]

--seed_borderM1 < seed_borderM
component seed_simple_img
images [/textures/simplegeom/tile_grid1.png]

--ts_wrap_linx3' < t_id
zn [1.1 + 0.0i, 0.0 + 0.0i, 1.0 + 0.0i, 0.0 + 0.0i]
component t_wrap
modules {t_inner: t_z}
scripts [rose3_2]

--disp_main1 < disp_id
flags {}
modules {post: post_hlim1'}

--post_hlim1' < post_hlim1
scripts [hlim_h1, hlim_s1, hlim_l1]
--main1 < default_main
modules {main_body: main1_body}

--main1_body < default_main_body
modules {t: t_main1, seed: seed_borderM, color: rotate_hsv1, reduce: torus_reduce}

--t_main1 < t_id
component t_wrap
zn [1.0 + 0.0i, 0.0 + 0.0i, 1.1 + 0.0i, 0.0 + 0.0i]
modules {t_inner: t_sinh}
scripts [randomizeT1, circle_0, rose1_0, rose3_2]

--seed_borderM < seed_border
flags {}
par {w: 0.5, alpha: 0.5}
modules {t: ts_wrap_linx3', reduce: torus_reduce}
scripts [ssc_w1, ssc_a1]

--seed_borderM1 < seed_borderM
component seed_simple_img
images [/textures/simplegeom/tile_grid1.png]

--ts_wrap_linx3' < t_id
zn [1.1 + 0.0i, 0.0 + 0.0i, 1.0 + 0.0i, 0.0 + 0.0i]
component t_wrap
modules {t_inner: t_z}
scripts [rose3_2]

--disp_main1 < disp_id
flags {}
modules {post: post_hlim1'}

--post_hlim1' < post_hlim1
scripts [hlim_h1, hlim_s1, hlim_l1]






